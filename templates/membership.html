<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Membership</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/css/index.css">
    <link rel="stylesheet" href="/static/css/membership.css">
    <link rel="stylesheet" href="/static/css/footer.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>

<body>

    <!-- Navigation -->
    <section class="header">
        <nav class="navbar custom-gradient navbar-expand-lg fixed-top">
            <div class="container-fluid">
                <a class="navbar-brand text-decoration-none" href="index.html">
                    <img src="/static/images/kalaa logo.jpg" alt="Logo" class="navbar-logo">
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse justify-content-center row m-0" id="navbarSupportedContent">
                    <div class="col-12">
                        <a class="navbar-brand text-decoration-none" href="index.html">
                            <span class="fs-1">കലാ</span> <span class="fs-3">Malayali Association of Delaware
                                Valley</span>
                        </a>
                    </div>
                    <div class="col-12 d-flex align-items-center justify-content-center">
                        <div class="navbar-brand">
                            <ul class="navbar-nav mb-2 mb-lg-0">
                                <li class="nav-item">
                                    <a class="nav-link" href="index.html">Home</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="aboutus.html">About Us</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="index.html#vs">Vision & Mission</a>
                                </li>
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#events" role="button"
                                        data-bs-toggle="dropdown" aria-expanded="false">
                                        Events
                                    </a>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item" href="upcoming.html">Upcoming Events</a></li>
                                        <li><a class="dropdown-item" href="past.html">Past Events</a></li>
                                    </ul>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="gallery.html">Gallery</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="team.html">Team</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="news.html">News</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="contact.html">Contact</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link active" href="membership.html">Membership</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </section>

    <!-- Hero Section -->
    <section class="membership-hero"
        style="background-image: url('/static/images/group.png'); background-size: cover; background-position: center; background-repeat: no-repeat; padding: 150px 0; opacity: 60%; color: white;">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title">JOIN KALAA</h1>
                <!-- <p class="hero-subtitle">Become part of Delaware Valley's vibrant Malayali community and celebrate our rich cultural heritage together</p> -->
            </div>
        </div>
    </section>


    <!-- Membership Information -->
    <div class="container">
        <div class="membership-info">
            <div class="info-grid mt-5">
                <div class="info-card">
                    <div class="info-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3 class="info-title">Community</h3>
                    <p class="info-text">Connect with fellow Malayalis in the Delaware Valley area. Build lasting
                        friendships and professional networks within our warm community.</p>
                </div>

                <div class="info-card">
                    <div class="info-icon">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <h3 class="info-title">Cultural Events</h3>
                    <p class="info-text">Participate in traditional festivals, cultural programs, and community
                        celebrations that keep our heritage alive for future generations.</p>
                </div>

                <div class="info-card">
                    <div class="info-icon">
                        <i class="fas fa-hands-helping"></i>
                    </div>
                    <h3 class="info-title">Support Network</h3>
                    <p class="info-text">Get help when you need it most. Our community provides support for new members,
                        families, and anyone facing challenges.</p>
                </div>
            </div>

            <div class="membership-rates">
                <h3 class="rates-title">Membership Rates</h3>
                <div class="rate-item">
                    <span class="rate-type">Annual Individual Membership (18+ years)</span>
                    <span class="rate-price">$5.00</span>
                </div>
                <div class="rate-item">
                    <span class="rate-type">Life-Long Individual Membership</span>
                    <span class="rate-price">$50.00</span>
                </div>
                <div class="rate-item">
                    <span class="rate-type">Life-Long Family Membership</span>
                    <span class="rate-price">$100.00</span>
                </div>
            </div>

            <button class="join-btn" onclick="showMembershipForm()">
                <i class="fas fa-user-plus"></i> Apply for Membership
            </button>
        </div>
    </div>

    <!-- Membership Form -->
    <div class="container">
        <div class="membership-form" id="membershipForm">
            <h2 class="text-center mb-4" style="color: var(--primary-color);">
                <i class="fas fa-user-plus"></i> Membership Application Form
            </h2>

            <form id="membershipApplicationForm">
                <div class="form-section">
                    <h4 class="section-title">Personal Information</h4>
                    <div class="row">
                        <div class="col-md-6">
                            <input type="text" class="form-control" name="name" placeholder="Full Name" required>
                        </div>
                        <div class="col-md-6">
                            <input type="text" class="form-control" name="spouse_name"
                                placeholder="Spouse Name (if applicable)">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <input type="email" class="form-control" name="email" placeholder="Email Address" required>
                        </div>
                        <div class="col-md-6">
                            <input type="tel" class="form-control" name="phone" placeholder="Phone Number" required>
                        </div>
                    </div>
                    <textarea class="form-control" name="address" rows="3" placeholder="Full Address"
                        required></textarea>
                    <input type="text" class="form-control" name="place" placeholder="City, State, ZIP Code" required>
                </div>

                <div class="form-section">
                    <h4 class="section-title">Membership Type</h4>
                    <select class="form-control" name="membership_type" required>
                        <option value="">Select Membership Type</option>
                        <option value="annual_individual">Annual Individual - $5.00</option>
                        <option value="lifetime_individual">Life-Long Individual - $50.00</option>
                        <option value="lifetime_family">Life-Long Family - $100.00</option>
                    </select>
                </div>

                <div class="form-section">
                    <h4 class="section-title">Children Information</h4>
                    <p class="text-muted">Please add information for all children (if applicable)</p>
                    <div class="children-section" id="childrenSection">
                        <div class="child-entry">
                            <button type="button" class="btn-remove-child" onclick="removeChild(this)">Remove</button>
                            <div class="row">
                                <div class="col-md-4">
                                    <input type="text" class="form-control" name="child_name[]"
                                        placeholder="Child's Name">
                                </div>
                                <div class="col-md-4">
                                    <input type="date" class="form-control" name="child_dob[]"
                                        placeholder="Date of Birth">
                                </div>
                                <div class="col-md-4">
                                    <select class="form-control" name="child_sex[]">
                                        <option value="">Select Gender</option>
                                        <option value="Male">Male</option>
                                        <option value="Female">Female</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn-add-child" onclick="addChild()">
                        <i class="fas fa-plus"></i> Add Another Child
                    </button>
                </div>

                <button type="submit" class="submit-btn">
                    <i class="fas fa-paper-plane"></i> Submit Application
                </button>
            </form>
        </div>
    </div>

    <!-- Success Message -->
    <div class="success-message" id="successMessage">
        <div class="success-icon">
            <i class="fas fa-check-circle"></i>
        </div>
        <h3>Application Submitted Successfully!</h3>
        <p>Your membership request has been sent to the KALAA association. We will contact you soon with further
            details.</p>
        <button class="join-btn" onclick="resetForm()" style="margin: 20px auto 0;">Submit Another Application</button>
    </div>

    <footer class="">
        <div class="p-3">
            &copy; 2024 CHRIST INFOTECH. All rights reserved.
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <script>
        function showMembershipForm() {
            document.querySelector('.membership-info').style.display = 'none';
            document.getElementById('membershipForm').style.display = 'block';
            document.getElementById('membershipForm').scrollIntoView({ behavior: 'smooth' });
        }

        function addChild() {
            const childrenSection = document.getElementById('childrenSection');
            const childEntry = document.createElement('div');
            const childId = Date.now(); // Unique ID for each child entry
            childEntry.className = 'child-entry';
            childEntry.setAttribute('data-child-id', childId);
            childEntry.innerHTML = `
       <button type="button" class="btn-remove-child" onclick="removeChildEntry(${childId})">
           <i class="fas fa-times"></i> Remove
       </button>
       <div class="row">
           <div class="col-md-4">
               <input type="text" class="form-control" name="child_name[]" placeholder="Child's Name">
           </div>
           <div class="col-md-4">
               <input type="date" class="form-control" name="child_dob[]" placeholder="Date of Birth">
           </div>
           <div class="col-md-4">
               <select class="form-control" name="child_sex[]">
                   <option value="">Select Gender</option>
                   <option value="Male">Male</option>
                   <option value="Female">Female</option>
               </select>
           </div>
       </div>
   `;
            childrenSection.appendChild(childEntry);
        }

        function removeChildEntry(childId) {
            const childEntry = document.querySelector(`[data-child-id="${childId}"]`);
            if (childEntry) {
                childEntry.remove();
            }
        }
        function resetForm() {
            document.getElementById('membershipApplicationForm').reset();
            document.getElementById('successMessage').style.display = 'none';
            document.querySelector('.membership-info').style.display = 'block';
            document.getElementById('membershipForm').style.display = 'none';
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        document.getElementById('membershipApplicationForm').addEventListener('submit', function (e) {
            e.preventDefault();

            const submitBtn = document.querySelector('.submit-btn');
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Submitting...';
            submitBtn.disabled = true;

            const formData = new FormData(this);

            fetch('/submit_membership', {
                method: 'POST',
                body: formData
            })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        document.getElementById('membershipForm').style.display = 'none';
                        document.getElementById('successMessage').style.display = 'block';
                        document.getElementById('successMessage').scrollIntoView({ behavior: 'smooth' });
                    } else {
                        alert('Error: ' + data.message);
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('An error occurred while submitting the form. Please try again.');
                })
                .finally(() => {
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                });
        });
    </script>

</body>

</html>